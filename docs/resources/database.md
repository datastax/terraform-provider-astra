---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "astra_database Resource - terraform-provider-astra"
subcategory: ""
description: |-
  astra_database provides an Astra Serverless Database resource. You can create and delete databases. Note: Classic Tier databases are not supported by the Terraform provider. (see https://docs.datastax.com/en/astra/docs/index.html for more about Astra DB)
---

# astra_database (Resource)

`astra_database` provides an Astra Serverless Database resource. You can create and delete databases. Note: Classic Tier databases are not supported by the Terraform provider. (see https://docs.datastax.com/en/astra/docs/index.html for more about Astra DB)

## Example Usage

```terraform
# Generate a random pet name to avoid naming conflicts
resource "random_pet" "pet_name" {}

# Create a new database
resource "astra_database" "example_db" {
  # Required
  name           = substr("my-database-${random_pet.pet_name.id}", 0, 50)
  keyspace       = "example_keyspace" # optional, 48 characters max
  cloud_provider = "gcp"
  regions        = ["us-central1"]

  # Optional
  deletion_protection = false
  timeouts {
    create = "30m"
    update = "30m"
    delete = "30m"
  }
}

# --Formatted Outputs--
# astra_database.example_db.additional_keyspaces
# astra_database.example_db.cqlsh_url
# astra_database.example_db.data_endpoint_url
# astra_database.example_db.datacenters
# astra_database.example_db.grafana_url
# astra_database.example_db.graphql_url
# astra_database.example_db.node_count
# astra_database.example_db.organization_id
# astra_database.example_db.owner_id
# astra_database.example_db.replication_factor
# astra_database.example_db.status
# astra_database.example_db.total_storage

output "status" {
  description = "Database status"
  value       = astra_database.example_db.status
}

output "cqlsh_url" {
  description = "CQL shell URL"
  value       = astra_database.example_db.cqlsh_url
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `cloud_provider` (String) The cloud provider to launch the database. (Currently supported: aws, azure, gcp)
- `name` (String) Astra database name.
- `regions` (List of String) Cloud regions to launch the database. (see https://docs.datastax.com/en/astra/docs/database-regions.html for supported regions)

### Optional

- `db_type` (String) Database type. Currently only `vector` is supported. Omit this optional field if you want a regular serverless database.
- `deletion_protection` (Boolean) Whether or not to allow Terraform to destroy the instance. Unless this field is set to false in Terraform state, a `terraform destroy` or `terraform apply` command that deletes the instance will fail. Defaults to `true`.
- `keyspace` (String) Initial keyspace name. For additional keyspaces, use the astra_keyspace resource. If omitted, Astra will use its default, currently `default_keyspace`
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))

### Read-Only

- `additional_keyspaces` (List of String) Additional keyspaces
- `cqlsh_url` (String) The cqlsh_url
- `data_endpoint_url` (String) The data_endpoint_url
- `datacenters` (Map of String) Map of Datacenter IDs. The map key is "cloud_provider.region". Example: "GCP.us-east4".
- `grafana_url` (String) The grafana_url
- `graphql_url` (String) The graphql_url
- `id` (String) The ID of this resource.
- `node_count` (Number) The node_count
- `organization_id` (String) The org id.
- `owner_id` (String) The owner id.
- `replication_factor` (Number) The replication_factor
- `status` (String) The status
- `total_storage` (Number) The total_storage

<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String)
- `delete` (String)
- `read` (String)
- `update` (String)

## Import

Import is supported using the following syntax:

```shell
terraform import astra_database.example 48bfc13b-c1a5-48db-b70f-b6ef9709872b
```
