---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "astra_secure_connect_bundle_url Data Source - terraform-provider-astra"
subcategory: ""
description: |-
  astra_secure_connect_bundle_url provides a datasource that generates a temporary secure connect bundle URL. This URL lasts five minutes. Secure connect bundles are used to connect to Astra using cql cassandra drivers. See the docs https://docs.datastax.com/en/astra/docs/connecting-to-database.html for more information on how to connect.
---

# astra_secure_connect_bundle_url (Data Source)

`astra_secure_connect_bundle_url` provides a datasource that generates a temporary secure connect bundle URL. This URL lasts five minutes. Secure connect bundles are used to connect to Astra using cql cassandra drivers. See the [docs](https://docs.datastax.com/en/astra/docs/connecting-to-database.html) for more information on how to connect.

## Example Usage

```terraform
// For single DC databases, or to just get the primary datacenter Secure Connect Bundle
data "astra_secure_connect_bundle_url" "scb" {
  database_id = "f9f4b1e0-4c05-451e-9bba-d631295a7f73"
}
// Output for SCB reference
output "scb" {
  value = data.astra_secure_connect_bundle_url.scb.secure_bundles[0].url
}

// For mult-DC databases, specify the datacenter ID
// Example 1: Hard-coded IDs
// Primary datacenter SCB
data "astra_secure_connect_bundle_url" "scb1" {
  database_id   = "f9f4b1e0-4c05-451e-9bba-d631295a7f73"
  datacenter_id = "f9f4b1e0-4c05-451e-9bba-d631295a7f73-1" // for the primary dataceneter, the datacenter ID is not required
}
// Second datacenter SCB
data "astra_secure_connect_bundle_url" "scb2" {
  database_id   = "f9f4b1e0-4c05-451e-9bba-d631295a7f73"
  datacenter_id = "f9f4b1e0-4c05-451e-9bba-d631295a7f73-2"
}
// Third datacenter SCB
data "astra_secure_connect_bundle_url" "scb3" {
  database_id   = "f9f4b1e0-4c05-451e-9bba-d631295a7f73"
  datacenter_id = "f9f4b1e0-4c05-451e-9bba-d631295a7f73-3"
}
// Output for SCB reference
output "scb1" {
  value = data.astra_secure_connect_bundle_url.scb1.secure_bundles[0].url
}
output "scb2" {
  value = data.astra_secure_connect_bundle_url.scb2.secure_bundles[0].url
}
output "scb3" {
  value = data.astra_secure_connect_bundle_url.scb3.secure_bundles[0].url
}

// Example 2: Referenced IDs
// Database example for referencing
resource "astra_database" "mydb" {
  name           = "dbname"
  keyspace       = "testks"
  cloud_provider = "gcp"
  regions        = ["us-west4", "us-east4", "us-central1"]
  timeouts {
    create = "45m"
    delete = "45m"
    update = "45m"
  }
}
// Primary datacenter SCB (GCP.us-west4)
data "astra_secure_connect_bundle_url" "scb1" {
  database_id   = astra_database.mydb.id
  datacenter_id = astra_database.mydb.datacenters["${astra_database.mydb.cloud_provider}.${astra_database.mydb.regions[0]}"] // for the primary dataceneter, the datacenter ID is not required
}
// Second datacenter SCB (GCP.us-east4)
data "astra_secure_connect_bundle_url" "scb2" {
  database_id   = astra_database.mydb.id
  datacenter_id = astra_database.mydb.datacenters["${astra_database.mydb.cloud_provider}.${astra_database.mydb.regions[1]}"]
}
// Third datacenter SCB (GCP.us-central1)
data "astra_secure_connect_bundle_url" "scb3" {
  database_id   = astra_database.mydb.id
  datacenter_id = astra_database.mydb.datacenters["${astra_database.mydb.cloud_provider}.${astra_database.mydb.regions[2]}"]
}
// Output for SCB reference
output "scb1" {
  value = data.astra_secure_connect_bundle_url.scb1.secure_bundles[0].url
}
output "scb2" {
  value = data.astra_secure_connect_bundle_url.scb2.secure_bundles[0].url
}
output "scb3" {
  value = data.astra_secure_connect_bundle_url.scb3.secure_bundles[0].url
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `database_id` (String) The ID of the Astra database.

### Optional

- `datacenter_id` (String) The ID of the Astra datacenter. If omitted, all bundles will be fetched.

### Read-Only

- `id` (String) The ID of this resource.
- `secure_bundles` (List of Object) A list of Secure Connect Bundle info (see [below for nested schema](#nestedatt--secure_bundles))

<a id="nestedatt--secure_bundles"></a>
### Nested Schema for `secure_bundles`

Read-Only:

- `custom_domain_bundles` (List of Object) (see [below for nested schema](#nestedobjatt--secure_bundles--custom_domain_bundles))
- `datacenter_id` (String)
- `internal_migration_proxy_url` (String)
- `internal_url` (String)
- `migration_proxy_url` (String)
- `url` (String)

<a id="nestedobjatt--secure_bundles--custom_domain_bundles"></a>
### Nested Schema for `secure_bundles.custom_domain_bundles`

Read-Only:

- `api_fqdn` (String)
- `cql_fqdn` (String)
- `dashboard_fqdn` (String)
- `domain` (String)
- `url` (String)
